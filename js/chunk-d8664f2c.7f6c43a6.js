(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d8664f2c"],{"15bb":function(t,o,a){"use strict";var e=a("ba01"),i=a.n(e);i.a},"8bf3":function(t,o,a){"use strict";a.r(o);var e=function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",{staticClass:"layout"},[a("div",{staticClass:"header"},[a("div",{staticClass:"back",on:{click:t.back}},[t._v("返回")])]),t.book?a("div",{staticClass:"content"},[a("div",{staticClass:"bookhead"},[a("img",{staticClass:"bookcover",attrs:{src:t.getrealeurl(t.book.cover),alt:""}}),a("div",{staticClass:"bookinfo"},[a("div",{staticClass:"bookname"},[t._v(t._s(t.book.title))]),a("div",{staticClass:"bookauthor"},[t._v(t._s(t.book.author))]),a("div",{staticClass:"wordcount"},[t._v(t._s(t.NumtoFixed(t.book.wordCount))+"万字")])])]),a("div",{staticClass:"panel"},[a("div",{staticClass:"paneltitle"},[t._v("简介")]),a("div",{staticClass:"booktags"},t._l(t.book.tags,(function(o,e){return a("div",{key:e,staticClass:"tag"},[t._v(t._s(o))])})),0),a("div",{staticClass:"intro"},[t._v(t._s(t.book.longIntro))])]),t.chapters.length>0?a("div",{staticClass:"panel"},[a("div",{staticClass:"paneltitle"},[t._v("章节列表")]),t._l(t.getchapterlist(),(function(o,e){return a("div",{key:e,staticClass:"chapter",on:{click:function(o){return t.toread(e)}}},[t._v(t._s(o.title))])})),a("div",{staticClass:"showmore",on:{click:t.showmore}},[t._v("更多章节")])],2):t._e()]):t._e(),t.book?a("div",{staticClass:"menubar"},[t.isadded?a("div",{staticClass:"bar added",on:{click:t.removebook}},[t._v("-不追了")]):a("div",{staticClass:"bar",on:{click:t.addbook}},[t._v("+追更新")]),a("div",{staticClass:"bar",on:{click:function(o){return t.toread(0)}}},[t._v("开始阅读")])]):t._e()])},i=[],s=(a("7db0"),a("fb6a"),a("b680"),a("ac1f"),a("5319"),a("bc3a")),c=a.n(s),n={props:{bookid:String},data:function(){return{book:null,isadded:!1,source:"",chapters:[],chapternum:100}},methods:{addbook:function(){var t={_id:this.$data.book._id,title:this.$data.book.title,cover:this.$data.book.cover,author:this.$data.book.author,isMakeMoneyLimit:this.$data.book.isMakeMoneyLimit,isFineBook:this.$data.book.isFineBook,allowMonthly:this.$data.book.allowMonthly,referenceSource:this.$data.book.referenceSource,updated:this.$data.book.updated,chaptersCount:this.$data.book.chaptersCount,lastChapter:this.$data.book.lastChapter,source:this.$data.source,scrolltop:0,chapterindex:0};this.$store.commit("ADD_BOOK",t),this.isadded=!0},removebook:function(){this.$store.commit("REMOVE_BOOK",this.book._id),this.isadded=!1},toread:function(t){this.$router.push({path:"/Read",query:{bookid:this.book._id,source:this.source,chapterindex:t}})},back:function(){this.$router.back()},showmore:function(){this.chapternum+=100},NumtoFixed:function(t){return(t/1e4).toFixed(1)},getrealeurl:function(t){return"//statics.zhuishushenqi.com/agent/"+encodeURIComponent(t.replace("/agent/",""))},getchapterlist:function(){return this.chapters.slice(0,this.chapternum)}},beforeMount:function(){var t=this;c.a.get("http://novel.kele8.cn/book-info/"+this.bookid).then((function(o){t.book=o.data;var a=t.$store.state.mybooks.find((function(t){return t._id===o.data._id}));t.isadded=!!a})),c.a.get("http://novel.kele8.cn/book-sources?view=summary&book="+this.bookid).then((function(o){t.source=o.data[0]._id,c.a.get("http://novel.kele8.cn/book-chapters/"+o.data[0]._id).then((function(o){t.chapters=o.data.chapters}))}))}},r=n,d=(a("15bb"),a("2877")),l=Object(d["a"])(r,e,i,!1,null,"63e4369c",null);o["default"]=l.exports},ba01:function(t,o,a){},fb6a:function(t,o,a){"use strict";var e=a("23e7"),i=a("861d"),s=a("e8b5"),c=a("23cb"),n=a("50c4"),r=a("fc6a"),d=a("8418"),l=a("b622"),u=a("1dde"),h=a("ae40"),b=u("slice"),k=h("slice",{ACCESSORS:!0,0:0,1:2}),v=l("species"),p=[].slice,f=Math.max;e({target:"Array",proto:!0,forced:!b||!k},{slice:function(t,o){var a,e,l,u=r(this),h=n(u.length),b=c(t,h),k=c(void 0===o?h:o,h);if(s(u)&&(a=u.constructor,"function"!=typeof a||a!==Array&&!s(a.prototype)?i(a)&&(a=a[v],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return p.call(u,b,k);for(e=new(void 0===a?Array:a)(f(k-b,0)),l=0;b<k;b++,l++)b in u&&d(e,l,u[b]);return e.length=l,e}})}}]);
//# sourceMappingURL=chunk-d8664f2c.7f6c43a6.js.map